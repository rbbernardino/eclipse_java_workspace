package ui;

import controle.*;
import persistencia.*;

public class Principal {

	public static void main(String[] args) {

		String arq_fonte = args[0];

		// arg[1] = arquivo de saida

		ArquivoLeitura arqProg = new ArquivoLeitura();
		//arqProg.abrir("/home/pesquisador/temp/anals_lex/programa");
		arqProg.abrir(arq_fonte);

		String programa = arqProg.lerTudo();
		arqProg.fechar();

		AnalisadorLexico al = new AnalisadorLexico();
		if (al.gerarTabela(programa)) {
				
			ArquivoEscrita arqTabTokens = new ArquivoEscrita();
			//arqTabTokens.abrir("/home/pesquisador/temp/anals_lex/tabelaToken");
			arqTabTokens.abrir("tabelaToken");
			arqTabTokens.escrever(al.getTabTokens());
			arqTabTokens.fechar();

			ArquivoEscrita arqTabSimbolos = new ArquivoEscrita();
			//arqTabSimbolos.abrir("/home/pesquisador/temp/anals_lex/tabelaSimb");
			arqTabSimbolos.abrir("tabelaSimb");
			arqTabSimbolos.escrever(al.getTabSimb());
			arqTabSimbolos.fechar();
			
		}else{
			//erro...
		}
	}

}
